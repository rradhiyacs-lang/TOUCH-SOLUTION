<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Touch Solution – Word Meaning</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
    min-height: 100vh;
    padding: 20px;
}

.container {
    max-width: 1000px;
    margin: auto;
}

header {
    text-align: center;
    margin-bottom: 30px;
}

header h1 {
    font-size: 2.6rem;
    color: #1a237e;
}

header p {
    color: #5c6bc0;
    font-size: 1.1rem;
}

.card {
    background: white;
    border-radius: 18px;
    padding: 35px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}

.section {
    background: #f9f9ff;
    border-radius: 14px;
    padding: 25px;
    margin-bottom: 25px;
    border: 1px solid #e8eaf6;
}

.section h2 {
    margin-bottom: 15px;
    color: #283593;
}

textarea {
    width: 100%;
    min-height: 140px;
    padding: 15px;
    font-size: 1rem;
    border-radius: 10px;
    border: 2px solid #e0e0e0;
}

textarea:focus {
    outline: none;
    border-color: #5c6bc0;
}

input[type="file"] {
    margin-top: 10px;
}

button {
    margin-top: 15px;
    width: 100%;
    padding: 14px;
    font-size: 1.05rem;
    font-weight: 600;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: linear-gradient(to right, #5c6bc0, #3949ab);
    color: white;
}

button:hover {
    background: linear-gradient(to right, #3f51b5, #283593);
}

#content {
    margin-top: 20px;
    line-height: 1.9;
    font-size: 1.1rem;
}

.word {
    cursor: pointer;
    padding: 2px 6px;
    border-radius: 4px;
}

.word:hover {
    background-color: #e8eaf6;
}

#meaningBox {
    margin-top: 30px;
    background: #f0f4ff;
    border-left: 5px solid #5c6bc0;
    padding: 20px;
    border-radius: 10px;
    min-height: 80px;
    font-size: 1.05rem;
}

footer {
    text-align: center;
    margin-top: 30px;
    color: #9fa8da;
    font-size: 0.9rem;
}
</style>
</head>

<body>

<div class="container">

<header>
    <h1>Touch Solution</h1>
    <p>Interactive Word Meaning Tool</p>
</header>

<div class="card">

    <!-- RAW TEXT -->
    <div class="section">
        <h2>Enter Raw Text</h2>
        <textarea id="textInput" placeholder="Type or paste text here..."></textarea>
        <button onclick="submitText()">Submit Text</button>
    </div>

    <!-- FILE INPUT -->
    <div class="section">
        <h2>Upload Text File (.txt)</h2>
        <input type="file" id="fileInput" accept=".txt">
        <button onclick="submitFile()">Submit File</button>
    </div>

    <!-- DISPLAY -->
    <div class="section">
        <div id="content"></div>
    </div>

    <!-- MEANING -->
    <div id="meaningBox">
        <b>Touch or hover on a word to see its meaning</b>
    </div>

</div>

<footer>
    Touch Solution – Educational Project
</footer>

</div>

<script>
function submitText() {
    const text = document.getElementById("textInput").value;
    displayText(text);
}

function submitFile() {
    const file = document.getElementById("fileInput").files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = function () {
        displayText(reader.result);
    };
    reader.readAsText(file);
}

function displayText(text) {
    const contentDiv = document.getElementById("content");
    contentDiv.innerHTML = "";

    const words = text.split(/\s+/);

    words.forEach(word => {
        const span = document.createElement("span");
        span.className = "word";
        span.innerText = word + " ";

        span.addEventListener("mouseover", () => getMeaning(word));
        span.addEventListener("touchstart", () => getMeaning(word));

        contentDiv.appendChild(span);
    });
}

function getMeaning(word) {
    const cleanWord = word.replace(/[^a-zA-Z]/g, "");
    if (!cleanWord) return;

    fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${cleanWord}`)
        .then(res => res.json())
        .then(data => {
            const meaning = data[0].meanings[0].definitions[0].definition;
            document.getElementById("meaningBox").innerHTML =
                `<b>${cleanWord}:</b> ${meaning}`;
        })
        .catch(() => {
            document.getElementById("meaningBox").innerHTML =
                `<b>${cleanWord}:</b> Meaning not found`;
        });
}
</script>

</body>
</html>
